<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="MypageIntroduceDAO">
  	
   <resultMap type="com.actibuddy.mypage.model.dao.MypageIntroduceDTO" id="memberResultMap">
		<id property="userId" column="USER_ID"/>
		<result property="introduce" column="INTRODUCE"/>
		<result property="favoriteActi" column="FAVORITE_ACTI"/>
		<result property="mtScoreNum" column="MT_SCORE_NUM"/>
	</resultMap>
	
	<insert id="insertIntroduce" parameterType="com.actibuddy.mypage.model.dto.MypageIntroduceDTO">
		<!-- MERGE INTO MYPAGE A 
		USING DUAL
			   ON (A.USER_ID = #{ userId })
			   WHEN MATCHED THEN
			        UPDATE SET A.INTRODUCE = #{ introduce } ,A.FAVORITE_ACTI = #{ favoriteActi }
			        WHERE A.USER_ID = #{ userId }
			   WHEN NOT MATCHED THEN
			        INSERT (USER_ID,INTRODUCE,FAVORITE_ACTI) 
			        VALUES (#{ userId },#{ introduce },#{ favoriteActi })
		INSERT 
		  INTO MYPAGE A
		(
		  A.INTRODUCE
		, A.FAVORITE_ACTI
		)
		VALUES 
		(
		#{ introduce }, #{ favoriteActi }
		)
		WHEN USER_ID = #{ userId }	  -->    
		
	</insert>
	
	<update id="updateIntroduce" parameterType="com.actibuddy.mypage.model.dto.MypageIntroduceDTO">
		
		
		
	</update>
  
  </mapper>